(function(_ds){var window=this;var C0=function(a){const b=a.qk;let c='<div class="dropdown-tabbed-menu"><ul class="dropdown-tabbed-menu-list">';a=a.columns;const d=a.length;for(let e=0;e<d;e++){const f=a[e];c+='<li class="dropdown-tabbed-menu-list-item"><a href="#" column-id="'+_ds.W(f.Cp)+'" tabindex="0" track-type="nav" track-name="'+_ds.W(f.text)+'" track-metadata-eventdetail="#" track-metadata-position="nav - '+_ds.W(b)+'" track-metadata-module="secondary nav">'+_ds.R(f.text)+"</a></li>"}return(0,_ds.Q)(c+"</ul></div>")},D0=
function(a){const b=a.qk,c=a.href;a=a.text;return(0,_ds.Q)('<div class="dropdown-tabbed-menu-button"><a href="'+_ds.W(_ds.Y(c))+'" track-type="nav" track-name="'+_ds.W(a)+'" track-metadata-eventdetail="'+_ds.W(c)+'" track-metadata-position="nav - '+_ds.W(b)+'" track-metadata-module="secondary nav">'+_ds.R(a)+"</a></div>")};var E0=function(a){a.v=Array.from(a.querySelectorAll("tab"));let b=a.querySelector(".devsite-tabs-wrapper");if(!b){b=a.ownerDocument.createElement("div");b.classList.add("devsite-tabs-wrapper");a.appendChild(b);var c;null==(c=a.v)||c.forEach(e=>{let f;return null==(f=b)?void 0:f.appendChild(e)})}a.C=b;a.appendChild(b);if(!a.hasAttribute("no-overflow")){c=a.ownerDocument.createElement("tab");_ds.C(a,"overflow-tab","",c);var d=a.ownerDocument.createElement("a");_ds.rh(d,"#");d.textContent="\u66f4\u591a\u9078\u9805";
d.classList.add("devsite-icon");d.classList.add("devsite-icon-arrow-drop-down");c.appendChild(d);a.h=c;d=a.ownerDocument.createElement("div");d.classList.add("devsite-tabs-overflow-menu");_ds.C(a,"scrollbars","",d);_ds.C(a,"hidden","",d);a.D=d;c.appendChild(d);b.appendChild(c)}},I0=function(a){let b;null==(b=a.v)||b.forEach(async(c,d)=>{if(await F0(c)){var e=Array.from(c.querySelectorAll(".devsite-tabs-dropdown-column")),f=c.querySelector(".devsite-tabs-dropdown"),g=c.querySelector("a");e.forEach((h,
k)=>{_ds.C(a,"column-id",`tab-${d}-column-${k}`,h)});e=e.map(h=>{const k=h.querySelector(".devsite-nav-title")||h.querySelector(".devsite-nav-item-title");return{Cp:h.getAttribute("column-id"),text:null==k?void 0:k.textContent}});g&&(g=_ds.M(C0,{qk:(g.textContent||"").toLowerCase().trim(),columns:e}),f&&(e=c.querySelector(".devsite-tabs-dropdown-content")))&&(f.insertBefore(g,e),f=c.querySelector(".dropdown-tabbed-menu a"),G0(c),a.eventHandler.listen(g,"click",h=>{h.preventDefault();const k=c.querySelector(".dropdown-tabbed-menu-button");
h=h.target;k&&h.tagName&&"a"===h.tagName.toLowerCase()&&!k.contains(h)&&H0(a,c,(null==h?void 0:h.getAttribute("column-id"))||"")}),f&&H0(a,c,f.getAttribute("column-id")||""))}})},J0=function(a,b){if(!b)return 0;const c=[];let d=b;for(;d.parentElement&&0===d.offsetWidth;)c.push(d),_ds.C(a,"render-hidden","",d),d=d.parentElement;a=_ds.el(b).width;for(const e of c)e.removeAttribute("render-hidden");return a},S0=function(a){a.eventHandler.listen(document.body,"devsite-sticky-resize",()=>a.G.Ca());a.eventHandler.listen(a,
"click",c=>{if(!(c.shiftKey||c.ctrlKey||c.metaKey||c.altKey)){var d=c.target,e=K0(a,d);if(e)if(e===a.h)L0(a,c);else if(M0(a),d.classList.contains("devsite-tabs-dropdown-toggle"))c.preventDefault(),c.stopPropagation(),e.hasAttribute("dropdown--open")?N0(a):O0(a,e);else{var f;"A"===d.tagName?f=d:f=_ds.ui(d,"A");var g=e.querySelector(".devsite-tabs-dropdown");if(g&&g.contains(d))f&&f.hasAttribute("href")||(c.preventDefault(),c.stopPropagation());else{if(c=a.K||a.querySelector("[active]"))c.removeAttribute("active"),
_ds.C(a,"aria-selected","false",c);_ds.C(a,"active","",e);_ds.C(a,"aria-selected","true",e);a.K=e;f&&f&&"#"!==f.href||a.G.Ca()}}}});if(a.querySelector("tab[dropdown]")||a.querySelector("tab[overflow-tab]")){var b="onpointermove"in window?"pointerover":"mouseover";const c="onpointermove"in window?"pointerleave":"mouseleave",d=a.querySelectorAll("tab[clickable]");if(d.length){for(const e of d)a.eventHandler.listen(e,"click",f=>{const g=f.target,h=K0(a,g),k=null==h?void 0:h.querySelector(".devsite-tabs-dropdown");
if(k){let l;(null==(l=a.h)?0:l.contains(g))||k.contains(g)||(f.preventDefault(),f.stopPropagation(),(null==h?0:h.hasAttribute("dropdown--open"))?N0(a):P0(a,f))}});a.eventHandler.listen(document.body,"click",e=>{a.C&&!a.C.contains(e.target)&&N0(a)})}else a.eventHandler.listen(a,b,e=>void Q0(a,e)),a.eventHandler.listen(a,c,()=>void R0(a))}b=[...a.querySelectorAll(".devsite-tabs-close-button")];for(const c of b)a.eventHandler.listen(c,"click",()=>N0(a))},T0=function(a){_ds.C(a,"hidden","",a.h);if(!(a.v&&
3>a.v.length)){var b=J0(a,a);if(0!==b){var c,d=(null==(c=a.v)?void 0:c.slice())||[],e=0,f;d.forEach(k=>{k.parentNode!==a.C&&(f?f.parentNode&&f.parentNode.insertBefore(k,f.nextSibling):_ds.ci(a.C,k,0));f=k;e+=J0(a,k)});if(!(e<=b)){c=a.J;var g;null==(g=a.h)||g.removeAttribute("hidden");(g=a.querySelector("[active]"))&&(c+=J0(a,g));for(var h;null==(h=d)?0:h.length;){const k=d.shift();if(k===g)continue;const l=J0(a,k||null);if(c+l<=b)c+=l;else{let m;null==(m=a.D)||m.appendChild(k)}}}}}},Q0=async function(a,
b){(await _ds.x()).isTouchEnabled()||P0(a,b)},R0=async function(a){(await _ds.x()).isTouchEnabled()||N0(a,300)},N0=function(a,b=0){_ds.I(a.j);window.clearTimeout(a.F);const c=a.querySelector("tab[dropdown--open]");if(c){const d=c.querySelector(".devsite-tabs-dropdown");_ds.C(a,"dropdown-transition","",d);_ds.Nk(a.j,d,_ds.vf,()=>{null==d||d.removeAttribute("dropdown-transition");a.removeAttribute("dropdown--open");_ds.C(a,"hidden","",d)});a.F=window.setTimeout(()=>{c.removeAttribute("dropdown--open");
U0(a,c)},b)}else a.removeAttribute("dropdown--open");M0(a)},K0=function(a,b){for(;b&&b!==a;){if("TAB"===b.tagName.toUpperCase())return b;b=b.parentElement}return null},P0=function(a,b){const c=b.target,d=K0(a,c);if(d){let e;d===a.h||(null==(e=a.h)?0:e.contains(c))?L0(a,b):O0(a,d)}},L0=async function(a,b){b.preventDefault();b.stopPropagation();document.body.dispatchEvent(new CustomEvent("devsite-close-overflow-tabs"));await _ds.wj();if(!a.hasAttribute("overflow-menu--open")){b=await _ds.x();await b.whenReady();
if(b.isTouchEnabled()){const d=e=>{a.contains(e.target)||M0(a);_ds.Ok(a.j,document.body,["devsite-close-overflow-tabs","click"],d)};a.j.listen(document.body,["devsite-close-overflow-tabs","click"],d)}var c;null==(c=a.D)||c.removeAttribute("hidden");_ds.C(a,"overflow-menu--open","")}},O0=async function(a,b){M0(a);if(b.hasAttribute("dropdown")){if(_ds.I(a.j),window.clearTimeout(a.F),!b.hasAttribute("dropdown--open")){(await _ds.x()).isTouchEnabled()&&_ds.Nk(a.j,document.body,"click",g=>{a.contains(g.target)||
N0(a)});var c=a.querySelector("tab[dropdown--open]"),d=b.querySelector(".devsite-tabs-dropdown");if(d){d.removeAttribute("hidden");_ds.Tk(d,"left","");var e=_ds.Th(window||window),f=Array.from(d.querySelectorAll(".devsite-tabs-dropdown-column"));if(!b.hasAttribute("dropdown-full")&&1<f.length){const g=[];f.forEach(k=>{g.push(k.scrollWidth)});const h=Math.max.apply(null,g);h*f.length<e.width?f.forEach(k=>{_ds.Tk(k,"width",`${h}px`)}):_ds.C(a,"dropdown-full","",b)}f=d.getBoundingClientRect();b.hasAttribute("dropdown-full")?
_ds.Tk(d,"left",`-${f.left}px`):(e=Math.min(f.left,f.left+f.width-e.width),0<e&&_ds.Tk(d,"left",`-${e}px`));c?(c.removeAttribute("dropdown--open"),U0(a,c),c=c.querySelector(".devsite-tabs-dropdown"),null==c||c.removeAttribute("dropdown-transition"),_ds.C(a,"hidden","",c)):(_ds.C(a,"dropdown-transition","",d),_ds.Nk(a.j,d,_ds.vf,()=>d.removeAttribute("dropdown-transition")));window.requestAnimationFrame(()=>{_ds.C(a,"dropdown--open","");_ds.C(a,"dropdown--open","",b);U0(a,b)})}else c&&(c.removeAttribute("dropdown--open"),
U0(a,c))}}else N0(a)},U0=function(a,b){_ds.C(a,"aria-expanded",`${b.hasAttribute("dropdown--open")}`,b.querySelector(".devsite-tabs-dropdown-toggle"))},M0=function(a){_ds.C(a,"hidden","",a.D);a.removeAttribute("overflow-menu--open")},F0=async function(a){return(await _ds.x()).isTouchEnabled()||!a.hasAttribute("generated-tab-menu")?!1:!0},G0=function(a){var b=a.querySelector(".dropdown-tabbed-menu-button-target");if(!a.querySelector(".dropdown-tabbed-menu-button")&&b){var c=a.querySelector("a");c&&
(c=c.textContent,b=b.querySelector(".devsite-nav-item a"),a=a.querySelector(".dropdown-tabbed-menu"),b&&(c=_ds.M(D0,{qk:(c||"").toLowerCase().trim(),href:b.getAttribute("href")||"",text:b.textContent||""}),null==a||a.appendChild(c)))}},H0=function(a,b,c){var d=Array.from(b.querySelectorAll(".devsite-tabs-dropdown-column"));b=Array.from(b.querySelectorAll(".dropdown-tabbed-menu a"));b.forEach(e=>e.removeAttribute("active"));d.forEach(e=>_ds.C(a,"hidden","",e));b=b.find(e=>e.getAttribute("column-id")===
c);d=d.find(e=>e.getAttribute("column-id")===c);b&&d&&(_ds.C(a,"active","",b),d.removeAttribute("hidden"))},V0=class extends _ds.E{constructor(){super();this.eventHandler=new _ds.G;this.j=new _ds.G;this.G=new _ds.Jk(()=>{T0(this)},20);this.K=null;this.H=!1;this.F=0;this.D=this.h=null;this.J=0;this.v=[];this.C=null;_ds.bh(this,this.o`active`,this.o`aria-expanded`,this.o`aria-selected`,this.o`collapsed`,this.o`column-id`,this.o`connected`,this.o`dropdown`,this.o`dropdown-full`,this.o`dropdown--open`,
this.o`dropdown-transition`,this.o`hidden`,this.o`no-overflow`,this.o`overflow-menu--open`,this.o`overflow-tab`,this.o`render-hidden`,this.o`scrollbars`)}disconnectedCallback(){_ds.I(this.eventHandler);_ds.I(this.j)}connectedCallback(){this.H||(E0(this),this.H=!0);_ds.C(this,"connected","");if(!this.hasAttribute("no-overflow")){_ds.C(this,"collapsed","",this.h);this.J=J0(this,this.h);var a;null==(a=this.h)||a.removeAttribute("collapsed");S0(this);T0(this)}I0(this)}};
V0.prototype.connectedCallback=V0.prototype.connectedCallback;V0.prototype.disconnectedCallback=V0.prototype.disconnectedCallback;try{window.customElements.define("devsite-tabs",V0)}catch(a){console.warn("devsite.app.customElement.DevsiteTabs",a)};})(_ds_www);
